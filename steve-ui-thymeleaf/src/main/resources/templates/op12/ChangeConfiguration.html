<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/layout :: header('OCPP ' + ${opVersion} + ' - Change Configuration')}"></head>

<body>
<div th:replace="~{fragments/layout :: page-header}"></div>
<div th:replace="~{fragments/common :: bind-errors('params')}"></div>

<div class="content">
    <div th:replace="~{op-layouts/_operationLayout :: operation-layout(opVersion=${opVersion}, activePage='ChangeConfiguration', pageContent=~{:: .op-content})}">
        <div class="op-content">
            <div th:replace="~{op-forms/_operationFragments :: change-configuration-form}"></div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function() {
        var keyTypeSelect = $("#keyType");
        function togglePeriodType(keyTypeSelect) {
            if (keyTypeSelect.find("option:selected").text() == "Predefined") {
                $("#confKey").prop("disabled", false);
                $("#customConfKey").prop("disabled", true);
            } else {
                $("#confKey").prop("disabled", true);
                $("#customConfKey").prop("disabled", false);
            }
        }

        togglePeriodType(keyTypeSelect);
        keyTypeSelect.change(function() {
            togglePeriodType(keyTypeSelect);
        });
    });
</script>

<div th:replace="~{fragments/layout :: footer}"></div>
</body>
</html>